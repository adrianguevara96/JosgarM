(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{svRv:function(l,n,u){"use strict";u.r(n),u.d(n,"SolicitudrecolectaModuleNgFactory",(function(){return B}));var e=u("CcnG"),t=function(){return function(){}}(),c=u("pMnS"),o=u("Ip0R"),a=u("eajB"),i=u("lqqz"),s=u("NJnL"),r=u("zh/F"),d=u("eG2b"),b=u("jvCn"),p=u("miAi"),h=u("gIcY"),g=u("2p+7"),m=u("dXze"),f=u("GUC0"),v=u.n(f),A=u("to51"),N=u("6+PL"),S=function(){function l(l,n,u){this.modalService=l,this.service=n,this.spinner=u,this.status=[{id:0,nombre:"Cancelado"},{id:1,nombre:"Pendiente"},{id:2,nombre:"Aceptado"}],this.solicitudtosee=[],this.solicitudsearched=[],this.solicitudesRecolecta=[],this.solicitudesRecolecta10=[],this.buscarNroSolicitudRecolecta="",this.user=this.service.getUser()}return l.prototype.ngOnInit=function(){this.getEstados(),this.getCiudades(),this.getTiposMercancia(),this.getSolicitudesRecolecta()},l.prototype.cancelarSolicitud=function(l){var n=this;v()("\xbfEst\xe1 seguro de cancelar esta solicitud de recolecta?",{icon:"warning",closeOnClickOutside:!1,buttons:{rechazar:"Cancelar",aceptar:!0}}).then((function(u){switch(u){case"aceptar":console.log("Cancelando ..."),n.cancelSolicitudRecolecta(l),n.getSolicitudesRecolecta();break;case"rechazar":v.a.close()}}))},l.prototype.newSolicitudRecolecta=function(){var l=this,n=this.modalService.open(A.a,{size:"xl"});n.componentInstance.estados=this.estados,n.componentInstance.ciudades=this.ciudades,n.componentInstance.tiposmercancia=this.tiposmercancia,n.result.then((function(n){if(n){var u=n;console.log("Que me trae data? :",u),u.bultos&&l.getSolicitudesRecolecta()}}),(function(l){console.log("Reason? :",l)}))},l.prototype.pageChanged=function(l){this.solicitudesRecolecta10=this.solicitudesRecolecta.slice((l.page-1)*l.itemsPerPage,l.page*l.itemsPerPage)},l.prototype.openModal=function(l,n){this.solicitudtosee=[];for(var u=0;u<this.solicitudesRecolecta.length;u++)this.solicitudesRecolecta[u].nro==n&&this.solicitudtosee.push(this.solicitudesRecolecta[u]);var e=this.modalService.open(A.a,{size:"xl"});e.componentInstance.solicitudReco=this.solicitudtosee,e.componentInstance.accion=l,e.componentInstance.estados=this.estados,e.componentInstance.ciudades=this.ciudades,e.componentInstance.tiposmercancia=this.tiposmercancia},l.prototype.getEstados=function(){var l=this;this.service.get("estados").then((function(n){l.estados=n}),(function(l){console.log("Error al hacer get a estados ",l)}))},l.prototype.getCiudades=function(){var l=this;this.service.get("ciudades").then((function(n){l.ciudades=n}),(function(l){console.log("Error al hacer get a ciudades ",l)}))},l.prototype.getTiposMercancia=function(){var l=this;this.service.get("tiposmercancia").then((function(n){l.tiposmercancia=n}),(function(l){console.log("Error al hacer get a ciudades ",l)}))},l.prototype.getSolicitudesRecolecta=function(){var l=this;this.service.get("solicitudrecolecta/user/"+this.user.id).then((function(n){l.data=n,"No existen solicitudes de recolecta asociadas al usuario en la BD."==l.data.message?v()("No existen solicitudes de recolecta","Ud no posee solicitudes de recolecta. Le invitamos a crear una y a disfrutar de nuestros servicios.","info"):l.data.length>0&&(l.solicitudesRecolecta=l.data,l.solicitudesRecolecta10=l.solicitudesRecolecta.slice(0,10))}),(function(l){console.log("Error al hacer get a ciudades ",l)}))},l.prototype.cancelSolicitudRecolecta=function(l){var n=this;this.service.put(null,"solicitudrecolecta/cancel",l.nro).then((function(u){n.data=u,n.data.message=="La solicitud de recolecta #"+l.nro+" ha sido eliminada logicamente."&&v()("Solicitud de Recolecta Cancelada","Se ha cancelado su solicitud de recolecta #"+l.nro+" satisfactoriamente","success")}),(function(l){v()("Error del Sistema","Ha ocurrido un error al cancelar su solicitud de recolecta. Por favor, intentelo de nuevo.","warning")}))},l.prototype.buscarFacturasdeRelacionDespacho=function(l){var n=this;""==this.buscarNroSolicitudRecolecta?v()("Rellenar Campo","Por favor, rellene el campo nro. de solicitud de recolecta.","info"):this.service.get("solicitudrecolecta/user/"+this.user.id+"/nro/"+this.buscarNroSolicitudRecolecta).then((function(u){var e=u;"No existe la solicitud de recolecta asociada al usuario en la BD."==e.message?(v()("No existe la solicitud de recolecta","El nro de la solicitud de recolecta que esta buscando no existe, por favor ingrese otro numero.","info"),n.buscarNroSolicitudRecolecta=""):(n.solicitudsearched=e,n.buscarNroSolicitudRecolecta="",n.spinner.show(),setTimeout((function(){n.spinner.hide();var u=n.modalService.open(A.a,{size:"xl"});u.componentInstance.solicitudReco=n.solicitudsearched,u.componentInstance.accion=l,u.componentInstance.estados=n.estados,u.componentInstance.ciudades=n.ciudades,u.componentInstance.tiposmercancia=n.tiposmercancia}),5e3))}),(function(l){console.log("Error al buscar esa relacion de despacho. ",l)}))},l}(),y=u("4GxJ"),R=e.yb({encapsulation:0,styles:[[""]],data:{}});function C(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Zb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.nombre)}))}function x(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,C)),e.zb(2,16384,null,0,o.m,[e.S,e.P],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.id==n.parent.context.$implicit.status)}),null)}function z(l){return e.cc(0,[(l()(),e.Ab(0,16777216,null,null,4,"button",[["class","btn btn-sm btn-pill"],["placement","right"],["style","border-radius:60px"],["tooltip","Cancelar"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.cancelarSolicitud(l.parent.context.$implicit)&&e),e}),null,null)),e.zb(1,212992,null,0,a.c,[e.S,i.a,a.a,e.m,e.H,s.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Ab(2,0,null,null,2,"svg-icon",[["src","assets/cancelar.svg"]],null,null,null,r.b,r.a)),e.zb(3,1032192,null,0,d.e,[e.m,e.w,e.H,d.f,e.h],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),e.Sb(4,{"height.px":0,"width.px":1}),(l()(),e.jb(0,null,null,0))],(function(l,n){l(n,1,0,"Cancelar","right");var u=l(n,4,0,17,17);l(n,3,0,"assets/cancelar.svg",u)}),null)}function w(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),e.Ab(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Zb(2,null,["",""])),(l()(),e.Ab(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Zb(4,null,["",""])),(l()(),e.Ab(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Zb(6,null,["",""])),(l()(),e.Ab(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Zb(8,null,["",""])),(l()(),e.Ab(9,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,x)),e.zb(11,278528,null,0,o.l,[e.S,e.P,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.Ab(12,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),e.Ab(13,16777216,null,null,4,"button",[["class","btn btn-sm btn-pill"],["placement","left"],["style","border-radius:60px"],["tooltip","Ver"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.openModal("see",l.context.$implicit.nro)&&e),e}),null,null)),e.zb(14,212992,null,0,a.c,[e.S,i.a,a.a,e.m,e.H,s.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Ab(15,0,null,null,2,"svg-icon",[["src","assets/eye2.svg"]],null,null,null,r.b,r.a)),e.zb(16,1032192,null,0,d.e,[e.m,e.w,e.H,d.f,e.h],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),e.Sb(17,{"height.px":0,"width.px":1}),(l()(),e.jb(16777216,null,null,1,null,z)),e.zb(19,16384,null,0,o.m,[e.S,e.P],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,11,0,n.component.status),l(n,14,0,"Ver","left");var u=l(n,17,0,25,25);l(n,16,0,"assets/eye2.svg",u),l(n,19,0,1==n.context.$implicit.status)}),(function(l,n){l(n,2,0,n.context.$implicit.nro),l(n,4,0,n.context.$implicit.bultos);var u=n.context.$implicit.fecha.substr(0,10);l(n,6,0,u),l(n,8,0,n.context.$implicit.hora)}))}function I(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,70,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),e.Ab(1,0,null,null,3,"ngx-spinner",[["bdColor","rgb(8,8,8)"],["size","medium"],["type","pacman"]],null,null,null,b.b,b.a)),e.zb(2,770048,null,0,p.a,[p.c,e.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"],fullScreen:[3,"fullScreen"]},null),(l()(),e.Ab(3,0,null,0,1,"p",[["class","loading"],["style","color: white"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Cargando la solicitud de recolecta..."])),(l()(),e.Ab(5,0,null,null,65,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.Ab(6,0,null,null,5,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.Ab(7,0,null,null,4,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),e.Ab(8,0,null,null,2,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),e.Ab(9,0,null,null,1,"h3",[["style","margin-bottom: 0px;"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Solicitudes de Recolecta"])),(l()(),e.Ab(11,0,null,null,0,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),e.Ab(12,0,null,null,58,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.Ab(13,0,null,null,19,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),e.Ab(14,0,null,null,9,"div",[["class","col-7"]],null,null,null,null,null)),(l()(),e.Ab(15,0,null,null,1,"label",[["for","ordencarga"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Solicitud de Recolecta"])),(l()(),e.Ab(17,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Ab(18,0,null,null,5,"input",[["class","form-control"],["id","ordencarga"],["placeholder","Indique el nro. de la solicitud de recolecta a buscar"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,c=l.component;return"input"===n&&(t=!1!==e.Pb(l,19)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Pb(l,19).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Pb(l,19)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Pb(l,19)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(c.buscarNroSolicitudRecolecta=u)&&t),t}),null,null)),e.zb(19,16384,null,0,h.d,[e.H,e.m,[2,h.a]],null,null),e.Ub(1024,null,h.k,(function(l){return[l]}),[h.d]),e.zb(21,671744,null,0,h.p,[[8,null],[8,null],[8,null],[6,h.k]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ub(2048,null,h.l,null,[h.p]),e.zb(23,16384,null,0,h.m,[[4,h.l]],null,null),(l()(),e.Ab(24,0,null,null,8,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),e.Ab(25,0,null,null,1,"label",[["class","invisible"],["for","ordencarga"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Orden de Carga"])),(l()(),e.Ab(27,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Ab(28,16777216,null,null,4,"button",[["class","btn btn btn-primary btn-sm btn-pill"],["placement","right"],["tooltip","Buscar solicitud de recolecta"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.buscarFacturasdeRelacionDespacho("see")&&e),e}),null,null)),e.zb(29,212992,null,0,a.c,[e.S,i.a,a.a,e.m,e.H,s.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Ab(30,0,null,null,2,"svg-icon",[["src","assets/search.svg"]],null,null,null,r.b,r.a)),e.zb(31,1032192,null,0,d.e,[e.m,e.w,e.H,d.f,e.h],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),e.Sb(32,{"height.px":0,"width.px":1}),(l()(),e.Ab(33,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.Ab(34,0,null,null,36,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.Ab(35,0,null,null,10,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.Ab(36,0,null,null,9,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),e.Ab(37,0,null,null,2,"div",[["class","col-9"]],null,null,null,null,null)),(l()(),e.Ab(38,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Listado de mis Solicitudes de Recolecta"])),(l()(),e.Ab(40,0,null,null,5,"div",[["class","col-3"]],null,null,null,null,null)),(l()(),e.Ab(41,16777216,null,null,4,"button",[["class","btn btn-primary"],["placement","left"],["style","border-radius:60px;position:relative;left:70%"],["tooltip","Crear solicitud de recolecta"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.newSolicitudRecolecta()&&e),e}),null,null)),e.zb(42,212992,null,0,a.c,[e.S,i.a,a.a,e.m,e.H,s.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Ab(43,0,null,null,2,"svg-icon",[["src","assets/anadirorden2.svg"]],null,null,null,r.b,r.a)),e.zb(44,1032192,null,0,d.e,[e.m,e.w,e.H,d.f,e.h],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),e.Sb(45,{"height.px":0,"width.px":1}),(l()(),e.Ab(46,0,null,null,24,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.Ab(47,0,null,null,23,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),e.Ab(48,0,null,null,22,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),e.Ab(49,0,null,null,18,"table",[["class","table table-sm"]],null,null,null,null,null)),(l()(),e.Ab(50,0,null,null,14,"thead",[],null,null,null,null,null)),(l()(),e.Ab(51,0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),e.Ab(52,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Nro."])),(l()(),e.Ab(54,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Bultos"])),(l()(),e.Ab(56,16777216,null,null,2,"th",[["placement","top"],["tooltip","Fecha(YYYY/MM/DD)"]],null,null,null,null,null)),e.zb(57,212992,null,0,a.c,[e.S,i.a,a.a,e.m,e.H,s.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Zb(-1,null,["Fecha"])),(l()(),e.Ab(59,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Hora"])),(l()(),e.Ab(61,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Estatus"])),(l()(),e.Ab(63,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Acci\xf3n"])),(l()(),e.Ab(65,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,w)),e.zb(67,278528,null,0,o.l,[e.S,e.P,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.Ab(68,0,null,null,2,"pagination",[],null,[[null,"pageChanged"]],(function(l,n,u){var e=!0;return"pageChanged"===n&&(e=!1!==l.component.pageChanged(u)&&e),e}),g.d,g.b)),e.Ub(5120,null,h.k,(function(l){return[l]}),[m.b]),e.zb(70,114688,null,0,m.b,[e.m,m.c,e.h],{totalItems:[0,"totalItems"]},{pageChanged:"pageChanged"})],(function(l,n){var u=n.component;l(n,2,0,"rgb(8,8,8)","medium","pacman",!1),l(n,21,0,u.buscarNroSolicitudRecolecta),l(n,29,0,"Buscar solicitud de recolecta","right");var e=l(n,32,0,25,25);l(n,31,0,"assets/search.svg",e),l(n,42,0,"Crear solicitud de recolecta","left");var t=l(n,45,0,25,25);l(n,44,0,"assets/anadirorden2.svg",t),l(n,57,0,"Fecha(YYYY/MM/DD)","top"),l(n,67,0,u.solicitudesRecolecta),l(n,70,0,u.solicitudesRecolecta.length)}),(function(l,n){l(n,18,0,e.Pb(n,23).ngClassUntouched,e.Pb(n,23).ngClassTouched,e.Pb(n,23).ngClassPristine,e.Pb(n,23).ngClassDirty,e.Pb(n,23).ngClassValid,e.Pb(n,23).ngClassInvalid,e.Pb(n,23).ngClassPending)}))}function P(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,1,"app-solicitudrecolecta",[],null,null,null,I,R)),e.zb(1,114688,null,0,S,[y.w,N.a,p.c],null,null)],(function(l,n){l(n,1,0)}),null)}var Z=e.wb("app-solicitudrecolecta",S,P,{},{},[]),k=u("iutN"),F=u("Xg1U"),E=u("z5nN"),M=u("t/Na"),D=u("DQlY"),H=u("ZYCi"),Y={title:"Solicitud de Recolecta"},j=function(){return function(){}}(),O=u("Zseb"),$=u("xtZt"),U=u("9EwZ"),B=e.xb(t,[],(function(l){return e.Mb([e.Nb(512,e.k,e.bb,[[8,[c.a,Z,k.a,F.a,E.a,E.b]],[3,e.k],e.B]),e.Nb(4608,h.z,h.z,[]),e.Nb(4608,o.o,o.n,[e.x]),e.Nb(4608,M.i,M.o,[o.d,e.F,M.m]),e.Nb(4608,M.p,M.p,[M.i,M.n]),e.Nb(5120,M.a,(function(l){return[l]}),[M.p]),e.Nb(4608,M.l,M.l,[]),e.Nb(6144,M.j,null,[M.l]),e.Nb(4608,M.h,M.h,[M.j]),e.Nb(6144,M.b,null,[M.h]),e.Nb(4608,M.f,M.k,[M.b,e.t]),e.Nb(4608,M.c,M.c,[M.f]),e.Nb(4608,d.g,d.d,[M.c]),e.Nb(5120,d.f,d.c,[[3,d.f],d.g,e.F,[2,d.b],[2,o.d]]),e.Nb(4608,a.a,a.a,[]),e.Nb(4608,s.a,s.a,[e.D,e.I,e.F]),e.Nb(4608,i.a,i.a,[e.k,e.D,e.t,s.a,e.g]),e.Nb(4608,D.a,D.a,[e.I,i.a]),e.Nb(4608,m.c,m.c,[]),e.Nb(1073742336,h.y,h.y,[]),e.Nb(1073742336,h.h,h.h,[]),e.Nb(1073742336,H.p,H.p,[[2,H.u],[2,H.l]]),e.Nb(1073742336,j,j,[]),e.Nb(1073742336,O.b,O.b,[]),e.Nb(1073742336,$.e,$.e,[]),e.Nb(1073742336,U.a,U.a,[]),e.Nb(1073742336,o.c,o.c,[]),e.Nb(1073742336,d.a,d.a,[]),e.Nb(1073742336,a.d,a.d,[]),e.Nb(1073742336,D.e,D.e,[]),e.Nb(1073742336,M.e,M.e,[]),e.Nb(1073742336,M.d,M.d,[]),e.Nb(1073742336,m.d,m.d,[]),e.Nb(1073742336,p.b,p.b,[]),e.Nb(1073742336,t,t,[]),e.Nb(1024,H.j,(function(){return[[{path:"",component:S,data:Y}]]}),[]),e.Nb(256,M.m,"XSRF-TOKEN",[]),e.Nb(256,M.n,"X-XSRF-TOKEN",[])])}))}}]);