(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/7H0":function(l,n,t){"use strict";t.r(n),t.d(n,"DestinatariosModuleNgFactory",(function(){return R}));var e=t("CcnG"),u=function(){return function(){}}(),i=t("pMnS"),a=t("Ip0R"),o=t("eajB"),s=t("lqqz"),c=t("NJnL"),r=t("zh/F"),d=t("eG2b"),b=t("jvCn"),p=t("miAi"),g=t("gIcY"),h=t("2p+7"),m=t("dXze"),f=t("55W2"),v=t("6+PL"),A=t("GUC0"),y=t.n(A),x=function(){function l(l,n,t){this.modalService=l,this.service=n,this.spinner=t,this.destinatarios=[],this.allDestinatarios=[],this.direccionesentrega=[],this.inputBuscar="",this.ciudadesxEstado=[]}return l.prototype.ngOnInit=function(){this.user=this.service.getUser(),this.getDestinatarios(),this.getEstados(),this.getCiudades(),this.getTiposIdentificacion()},l.prototype.openModal=function(l,n){var t=this;console.log("destinatario de openModal",n),this.getDireccionesEntxDestinatario(n.idd),console.log("dest.idd en ver ",n.idd),this.spinner.show(),setTimeout((function(){t.spinner.hide();var e=t.modalService.open(f.a,{size:"xl"});e.componentInstance.direccionesEntrega=t.direccionesentrega,e.componentInstance.destinatario=n,e.componentInstance.nombreDest=n.nombre,e.componentInstance.accion=l,e.componentInstance.estados=t.estados,e.componentInstance.ciudades=t.ciudades,e.componentInstance.identificacion=t.id,e.result.then((function(l){if(console.log("Que me trae result al cerrar modal crear? ",l),l){var n=l;console.log("Que me trae data? :",n),n&&t.getDestinatarios()}}),(function(l){console.log("Reason? :",l)}))}),5e3)},l.prototype.openModalCrear=function(){var l=this,n=this.modalService.open(f.a,{size:"xl"});n.componentInstance.estados=this.estados,n.componentInstance.ciudades=this.ciudades,n.componentInstance.identificacion=this.id,n.result.then((function(n){n&&n.iduser&&l.getDestinatarios()}),(function(l){console.log("Reason? :",l)}))},l.prototype.OpenModalBuscar=function(l,n){var t=this;console.log("destinatario de openModalBuscar",n),this.getDireccionesEntxDestinatario(n.idd),console.log("dest.idd ",n.idd),this.spinner.show(),setTimeout((function(){t.spinner.hide();var e=t.modalService.open(f.a,{size:"xl"});e.componentInstance.direccionesEntrega=t.direccionesentrega,e.componentInstance.destinatario=n,e.componentInstance.accion=l,e.componentInstance.estados=t.estados,e.componentInstance.ciudades=t.ciudades,e.componentInstance.identificacion=t.id}),5e3)},l.prototype.seeModal=function(){this.modalService.open(f.a).componentInstance.relacionDespacho=this.destinatario},l.prototype.getDestinatarios=function(){var l=this;this.service.get("destinatarios/"+this.user.id).then((function(n){l.data=n,"No existen destinatarios asociados al usuario en la BD."==l.data.message?y()("No existen destinatario.","Ud no posee destinatarios, le invitamos a crear uno para disfrutar de nuestros servicios.","info"):l.data.length>0&&(l.allDestinatarios=l.data,l.destinatarios=l.allDestinatarios.slice(0,10))}),(function(l){console.log("Error en el get de destinatarios",l)}))},l.prototype.getDireccionesEntxDestinatario=function(l){var n=this;this.service.get("direccionesentrega/"+l).then((function(l){n.direccionesentrega=l,console.log("getDireccionesEntrega ",n.direccionesentrega)}),(function(l){console.log("Error en la busqueda de direcciones de entrega ",l)}))},l.prototype.buscarDestinatarios=function(l){var n=this;""==this.inputBuscar?y()("Rellenar Campo","Por favor, rellene el campo con el rif del destinatario.","info"):(console.log("destinatario/"+this.inputBuscar+"/user/"+this.user.id),this.service.get("destinatario/"+this.inputBuscar+"/user/"+this.user.id).then((function(t){var e=t;"No existe el destinatario en la BD."==e.message?n.service.get("destinatario/"+n.inputBuscar).then((function(t){var e=t;"No existe el destinatario asociado al usuario en la BD."==e.message?(y()("No existe el destinatario","El rif del destinatario que esta buscando no existe. por favor ingrese otro rif.","info"),n.inputBuscar=""):(n.destinatario=e[0],console.log("Destinatario sin direcciones ",n.destinatario),n.inputBuscar="",n.OpenModalBuscar(l,n.destinatario))})):(n.destinatario=e[0],console.log("Destinatarios trae en data ",n.destinatario),n.inputBuscar="",n.OpenModalBuscar(l,n.destinatario))}),(function(l){console.log("Error en la busqueda de destinatario ")})))},l.prototype.cancelarDestinatario=function(l){var n=this;y()("\xbfEst\xe1 seguro de eliminar este destinatario?",{icon:"warning",closeOnClickOutside:!1,buttons:{rechazar:"Cancelar",aceptar:!0}}).then((function(t){switch(t){case"aceptar":n.eliminarDestinatarios(l),n.getDestinatarios();break;case"rechazar":y.a.close()}}))},l.prototype.eliminarDestinatarios=function(l){this.service.put(null,"destinatario/cancel",l.idd).then((function(l){var n=l;console.log("data en eliminar ",n),"El destinatario ha sido eliminado logicamente."==n.message&&y()("Destinatario Eliminado","El destinatario ha sido eliminado satisfactoriamente. ","success")}))},l.prototype.getEstados=function(){var l=this;this.service.get("estados").then((function(n){l.estados=n}),(function(l){console.log("Error en el get de estados ",l)}))},l.prototype.getCiudades=function(){var l=this;this.service.get("ciudades").then((function(n){l.ciudades=n}),(function(l){console.log("Error en el get de ciudades ",l)}))},l.prototype.getTiposIdentificacion=function(){var l=this;this.service.get("tiposidentificacion").then((function(n){l.id=n}),(function(l){console.log("Error al hacer get a tipoIdentificacion ",l)}))},l.prototype.pageChanged=function(l){this.destinatarios=this.allDestinatarios.slice((l.page-1)*l.itemsPerPage,l.page*l.itemsPerPage)},l}(),D=t("4GxJ"),N=e.yb({encapsulation:0,styles:[[""]],data:{}});function z(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Zb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.nombre)}))}function I(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,z)),e.zb(2,16384,null,0,a.m,[e.S,e.P],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.id==n.parent.context.$implicit.estadod)}),null)}function S(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Zb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.nombre)}))}function C(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,S)),e.zb(2,16384,null,0,a.m,[e.S,e.P],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.id==n.parent.context.$implicit.ciudadd)}),null)}function w(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,32,"tr",[],null,null,null,null,null)),(l()(),e.Ab(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Zb(2,null,["",""])),(l()(),e.Ab(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Zb(4,null,["",""])),(l()(),e.Ab(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Zb(6,null,["",""])),(l()(),e.Ab(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Zb(8,null,["",""])),(l()(),e.Ab(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Zb(10,null,["",""])),(l()(),e.Ab(11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,I)),e.zb(13,278528,null,0,a.l,[e.S,e.P,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.Ab(14,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,C)),e.zb(16,278528,null,0,a.l,[e.S,e.P,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.Ab(17,0,null,null,15,"td",[],null,null,null,null,null)),(l()(),e.Ab(18,16777216,null,null,4,"button",[["class","btn btn-sm btn-pill"],["placement","left"],["style","border-radius:60px"],["tooltip","Ver detalles"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openModal("see",l.context.$implicit)&&e),e}),null,null)),e.zb(19,212992,null,0,o.c,[e.S,s.a,o.a,e.m,e.H,c.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Ab(20,0,null,null,2,"svg-icon",[["src","assets/eye2.svg"]],null,null,null,r.b,r.a)),e.zb(21,1032192,null,0,d.e,[e.m,e.w,e.H,d.f,e.h],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),e.Sb(22,{"height.px":0,"width.px":1}),(l()(),e.Ab(23,16777216,null,null,4,"button",[["class","btn btn-sm btn-pill"],["placement","right"],["style","border-radius:60px"],["tooltip","Modificar"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openModal("edit",l.context.$implicit)&&e),e}),null,null)),e.zb(24,212992,null,0,o.c,[e.S,s.a,o.a,e.m,e.H,c.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Ab(25,0,null,null,2,"svg-icon",[["src","assets/editarorden2.svg"]],null,null,null,r.b,r.a)),e.zb(26,1032192,null,0,d.e,[e.m,e.w,e.H,d.f,e.h],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),e.Sb(27,{"height.px":0,"width.px":1}),(l()(),e.Ab(28,16777216,null,null,4,"button",[["class","btn btn-sm btn-pill"],["placement","right"],["style","border-radius: 60px;"],["tooltip","Eliminar"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.cancelarDestinatario(l.context.$implicit)&&e),e}),null,null)),e.zb(29,212992,null,0,o.c,[e.S,s.a,o.a,e.m,e.H,c.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Ab(30,0,null,null,2,"svg-icon",[["src","assets/cancelar.svg"]],null,null,null,r.b,r.a)),e.zb(31,1032192,null,0,d.e,[e.m,e.w,e.H,d.f,e.h],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),e.Sb(32,{"height.px":0,"width.px":1})],(function(l,n){var t=n.component;l(n,13,0,t.estados),l(n,16,0,t.ciudades),l(n,19,0,"Ver detalles","left");var e=l(n,22,0,17,17);l(n,21,0,"assets/eye2.svg",e),l(n,24,0,"Modificar","right");var u=l(n,27,0,17,17);l(n,26,0,"assets/editarorden2.svg",u),l(n,29,0,"Eliminar","right");var i=l(n,32,0,17,17);l(n,31,0,"assets/cancelar.svg",i)}),(function(l,n){l(n,2,0,n.context.$implicit.nombresd),l(n,4,0,n.context.$implicit.rifd),l(n,6,0,n.context.$implicit.tlfmovild),l(n,8,0,n.context.$implicit.tlfijod),l(n,10,0,n.context.$implicit.direcciond)}))}function E(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,68,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.Ab(1,0,null,null,3,"ngx-spinner",[["bdColor","rgb(8,8,8)"],["size","medium"],["type","pacman"]],null,null,null,b.b,b.a)),e.zb(2,770048,null,0,p.a,[p.c,e.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"],fullScreen:[3,"fullScreen"]},null),(l()(),e.Ab(3,0,null,0,1,"p",[["class","loading"],["style","color: white"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Cargando datos del destinatario..."])),(l()(),e.Ab(5,0,null,null,63,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.Ab(6,0,null,null,10,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.Ab(7,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.Ab(8,0,null,null,2,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),e.Ab(9,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Destinatarios"])),(l()(),e.Ab(11,0,null,null,5,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),e.Ab(12,16777216,null,null,4,"button",[["class","btn btn-primary"],["placement","left"],["style","border-radius:60px;position:relative;left:70%"],["tooltip","A\xf1adir Destinatario"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openModalCrear()&&e),e}),null,null)),e.zb(13,212992,null,0,o.c,[e.S,s.a,o.a,e.m,e.H,c.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Ab(14,0,null,null,2,"svg-icon",[["src","assets/anadirdestinatario.svg"]],null,null,null,r.b,r.a)),e.zb(15,1032192,null,0,d.e,[e.m,e.w,e.H,d.f,e.h],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),e.Sb(16,{"height.px":0,"width.px":1}),(l()(),e.Ab(17,0,null,null,51,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.Ab(18,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.Ab(19,0,null,null,20,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),e.Ab(20,0,null,null,19,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),e.Ab(21,0,null,null,9,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),e.Ab(22,0,null,null,1,"label",[["for","destinatario"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Buscar Destinatario"])),(l()(),e.Ab(24,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Ab(25,0,null,null,5,"input",[["class","form-control"],["id","destinatario"],["placeholder","Indique el rif del destinatario"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,i=l.component;return"input"===n&&(u=!1!==e.Pb(l,26)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Pb(l,26).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Pb(l,26)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Pb(l,26)._compositionEnd(t.target.value)&&u),"ngModelChange"===n&&(u=!1!==(i.inputBuscar=t)&&u),u}),null,null)),e.zb(26,16384,null,0,g.d,[e.H,e.m,[2,g.a]],null,null),e.Ub(1024,null,g.k,(function(l){return[l]}),[g.d]),e.zb(28,671744,null,0,g.p,[[8,null],[8,null],[8,null],[6,g.k]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ub(2048,null,g.l,null,[g.p]),e.zb(30,16384,null,0,g.m,[[4,g.l]],null,null),(l()(),e.Ab(31,0,null,null,8,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),e.Ab(32,0,null,null,1,"label",[["class","invisible"],["for","destinatario"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Destinatario"])),(l()(),e.Ab(34,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Ab(35,16777216,null,null,4,"button",[["class","btn btn btn-primary btn-sm btn-pill"],["placement","right"],["tooltip","Buscar Destinatario"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.buscarDestinatarios("see")&&e),e}),null,null)),e.zb(36,212992,null,0,o.c,[e.S,s.a,o.a,e.m,e.H,c.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),e.Ab(37,0,null,null,2,"svg-icon",[["src","assets/search.svg"]],null,null,null,r.b,r.a)),e.zb(38,1032192,null,0,d.e,[e.m,e.w,e.H,d.f,e.h],{src:[0,"src"],svgStyle:[1,"svgStyle"]},null),e.Sb(39,{"height.px":0,"width.px":1}),(l()(),e.Ab(40,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Ab(41,0,null,null,27,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.Ab(42,0,null,null,0,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),e.Ab(43,0,null,null,25,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.Ab(44,0,null,null,21,"table",[["class","table table-sm"]],null,null,null,null,null)),(l()(),e.Ab(45,0,null,null,17,"thead",[],null,null,null,null,null)),(l()(),e.Ab(46,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),e.Ab(47,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Nombre"])),(l()(),e.Ab(49,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Rif"])),(l()(),e.Ab(51,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Tlf. M\xf3vil"])),(l()(),e.Ab(53,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,[" Tlf.Local"])),(l()(),e.Ab(55,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Direcci\xf3n"])),(l()(),e.Ab(57,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Estado"])),(l()(),e.Ab(59,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Ciudad"])),(l()(),e.Ab(61,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Zb(-1,null,["Acciones"])),(l()(),e.Ab(63,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,w)),e.zb(65,278528,null,0,a.l,[e.S,e.P,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.Ab(66,0,null,null,2,"pagination",[],null,[[null,"pageChanged"]],(function(l,n,t){var e=!0;return"pageChanged"===n&&(e=!1!==l.component.pageChanged(t)&&e),e}),h.d,h.b)),e.Ub(5120,null,g.k,(function(l){return[l]}),[m.b]),e.zb(68,114688,null,0,m.b,[e.m,m.c,e.h],{totalItems:[0,"totalItems"]},{pageChanged:"pageChanged"})],(function(l,n){var t=n.component;l(n,2,0,"rgb(8,8,8)","medium","pacman",!1),l(n,13,0,"A\xf1adir Destinatario","left");var e=l(n,16,0,25,25);l(n,15,0,"assets/anadirdestinatario.svg",e),l(n,28,0,t.inputBuscar),l(n,36,0,"Buscar Destinatario","right");var u=l(n,39,0,25,25);l(n,38,0,"assets/search.svg",u),l(n,65,0,t.destinatarios),l(n,68,0,t.allDestinatarios.length)}),(function(l,n){l(n,25,0,e.Pb(n,30).ngClassUntouched,e.Pb(n,30).ngClassTouched,e.Pb(n,30).ngClassPristine,e.Pb(n,30).ngClassDirty,e.Pb(n,30).ngClassValid,e.Pb(n,30).ngClassInvalid,e.Pb(n,30).ngClassPending)}))}function P(l){return e.cc(0,[(l()(),e.Ab(0,0,null,null,1,"app-destinatarios",[],null,null,null,E,N)),e.zb(1,114688,null,0,x,[D.w,v.a,p.c],null,null)],(function(l,n){l(n,1,0)}),null)}var Z=e.wb("app-destinatarios",x,P,{},{},[]),B=t("iutN"),k=t("Xg1U"),M=t("z5nN"),$=t("t/Na"),H=t("DQlY"),O=t("ZYCi"),F={title:"Destinatarios"},j=function(){return function(){}}(),T=t("Zseb"),U=t("xtZt"),q=t("9EwZ"),R=e.xb(u,[],(function(l){return e.Mb([e.Nb(512,e.k,e.bb,[[8,[i.a,Z,B.a,k.a,M.a,M.b]],[3,e.k],e.B]),e.Nb(4608,g.z,g.z,[]),e.Nb(4608,a.o,a.n,[e.x]),e.Nb(4608,d.g,d.d,[$.c]),e.Nb(5120,d.f,d.c,[[3,d.f],d.g,e.F,[2,d.b],[2,a.d]]),e.Nb(4608,o.a,o.a,[]),e.Nb(4608,c.a,c.a,[e.D,e.I,e.F]),e.Nb(4608,s.a,s.a,[e.k,e.D,e.t,c.a,e.g]),e.Nb(4608,H.a,H.a,[e.I,s.a]),e.Nb(4608,m.c,m.c,[]),e.Nb(1073742336,g.y,g.y,[]),e.Nb(1073742336,g.h,g.h,[]),e.Nb(1073742336,O.p,O.p,[[2,O.u],[2,O.l]]),e.Nb(1073742336,j,j,[]),e.Nb(1073742336,T.b,T.b,[]),e.Nb(1073742336,U.e,U.e,[]),e.Nb(1073742336,q.a,q.a,[]),e.Nb(1073742336,a.c,a.c,[]),e.Nb(1073742336,d.a,d.a,[]),e.Nb(1073742336,o.d,o.d,[]),e.Nb(1073742336,H.e,H.e,[]),e.Nb(1073742336,p.b,p.b,[]),e.Nb(1073742336,m.d,m.d,[]),e.Nb(1073742336,u,u,[]),e.Nb(1024,O.j,(function(){return[[{path:"",component:x,data:F}]]}),[])])}))}}]);